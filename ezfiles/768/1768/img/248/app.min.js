"use strict";function is(e){return $(e).is($(e))}function console_show(e){console.log("%cKK-CONSOLE","padding: 5px 10px;font-size: 14px;background: #2c375b; color: #fff;",e)}function resize_img(e,a){$(e).each(function(){$(window).width()<a?$(this).attr("src",$(this).attr("src").replace(/computer/g,"mobile")):$(this).attr("src",$(this).attr("src").replace(/mobile/g,"computer"))}),$(window).resize(function(){$(e).each(function(){$(window).width()<a?$(this).attr("src",$(this).attr("src").replace(/computer/g,"mobile")):$(this).attr("src",$(this).attr("src").replace(/mobile/g,"computer"))})})}function width_size(e){return $(window).width()<e}function wp_toggle(){if(is("#mobile-nav-toggle")){$("#mobile-nav-toggle i").remove();for(var e=0;e<3;e++){$("#mobile-nav-toggle").append("<span></span>")}}}function enable_svg(){$("img.svg").each(function(){var e=$(this),a=e.attr("id"),t=e.attr("class"),i=e.attr("src");$.get(i,function(i){var n=$(i).find("svg");void 0!==a&&(n=n.attr("id",a)),void 0!==t&&(n=n.attr("class",t+" replaced-svg")),!(n=n.removeAttr("xmlns:a")).attr("viewBox")&&n.attr("height")&&n.attr("width")&&n.attr("viewBox","0 0 "+n.attr("height")+" "+n.attr("width")),e.replaceWith(n)},"xml")})}function product_carousel(){$(".owl-carousel.product-carousel").each(function(){$(this).owlCarousel({items:1,margin:10,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0});for(var e=$(this).find("owl-item").length,a=0;a<e;a++){var t=$(this).find("owl-item").eq(a).find("img").attr("src");$(this).find(".owl-dots .owl-dot").eq(a).children("span").css("background-image",'url("'+t+'")')}})}function delay_action(e,a,t){for(var i=0,n=0;n<$(e).length;n++)$(e).eq(n).css(a,i+"s"),i+=t}function scroll_show(e,a,t,i,n){var r=$(window).scrollTop()+$(window).innerHeight();$(e).each(function(){var e=$(this),a=e.offset().top;switch(t){case"yes":e.addClass("kaf_out"),r-i>a&&1==n&&e.addClass("kaf_active"),r-i<a&&0==n&&e.removeClass("kaf_active");break;case"no":r-i>a&&1==n&&e.addClass("kaf_active")}})}function scroll_action(e,a,t,i,n){$(e).each(function(){var e=$(this);e.addClass(a),e.css({"animation-duration":n+"s"})}),setTimeout(function(){scroll_show(e,a,t,i,!0)},10);var r=0;$(window).scroll(function(){var n=$(window).scrollTop();if(n-r>0){var o=!0;r=n}else{o=!1;r=n}scroll_show(e,a,t,i,o)})}function MP_REMOVE(e){$(e).parents('[ID*="Dyn_"]').siblings().remove()}$(function(){$("img.respond").each(function(){resize_img("img.respond",640)}),$(".tab-list li").click(function(){var e=$(this),a=e.data("tab");e.siblings().removeClass("active"),e.addClass("active"),$(".tab-contents .content").each(function(){var e=$(this);e.data("content")===a&&(e.fadeIn(500).addClass("active"),e.siblings().fadeOut(0).removeClass("active"))})}),is("[data-bg]")&&$("[data-bg]").each(function(){var e=$(this).attr("data-bg"),a=$(this).attr("data-bg-x"),t=$(this).attr("data-bg-y");$(this).css({"background-image":'url("'+e+'")',"background-position":a+" "+t})}),is("[data-bg-color]")&&$("[data-bg-color]").each(function(){var e=$(this).attr("data-bg-color");$(this).css({"background-color":e})}),is("[data-max-width]")&&$("[data-max-width]").each(function(){var e=$(this).attr("data-max-width");$(this).css({"max-width":e+"px"})}),$("a").click(function(e){""==$(this).attr("href")&&(e.preventDefault(),alert("網站建置中 ..."))})}),$(function(){$("[data-kaf-style]").each(function(){var e=$(this).attr("data-kaf-style"),a=$(this).attr("data-kaf-repeat"),t=$(this).attr("data-kaf-pos"),i=$(this).attr("data-kaf-t");scroll_action($(this),e,a,t,i)})}),$(function(){function e(){$(window).width()<=1024?$("#menu-container #list").after($(".member-links")):$("#header").prepend($(".member-links"))}if($(".member-links").append($(".hdmenu ul>li>a")),e(),$(window).resize(function(){e()}),is(".swiper-container.full")&&$(".swiper-container.full").each(function(){new Swiper($(this),{centeredSlides:!0,autoplay:{delay:5e3,disableOnInteraction:!1},pagination:{el:$(this).find(".swiper-pagination"),clickable:!0}})}),is(".container-wrapper.information")){var a='<li>\n        <span class="tag">{{TAG}}</span>\n        <div class="title"><a href="{{LINK}}">{{TITLE}}</a></div>        \n        <a href="{{LINK}}" class="more">更多詳情</a>\n    </li>';$(".container-wrapper.information .d-item").each(function(){var e=$(this).find(".d-txt h5 a").text().split("/-/"),t=$(this).find(".d-txt h5 a").attr("href"),i=a.replace(/{{TAG}}/g,e[0]).replace(/{{TITLE}}/g,e[1]).replace(/{{LINK}}/g,t);$(".container-wrapper.information .list").append(i)}),$(".container-wrapper.information .module-special").remove()}if(is(".container-wrapper#product")){$(".module-sublist .d-item").length>0?$(".module-sublist .d-item").each(function(){var e=$(this).find(".d-txt h5 a").text().split("-"),a=$(this).find(".d-txt h5 a").attr("href"),t='<div class="item"><h2 class="name"><a href="{{LINK}}"><span>{{NUM}}</span>{{TITLE}}</a></h2></div>'.replace(/{{LINK}}/g,a).replace(/{{TITLE}}/g,e[1]).replace(/{{NUM}}/g,e[0]);$(".container-wrapper#product .flex-row").append(t)}):$("#product .list").remove();var t=$(".container-wrapper#product .flex-row .item").length,i=$(".container-wrapper#product .flex-row .item");if($(window).width()>768)for(var n=0;n<t;n++)i.eq(3*n).css("animation-delay","0s"),i.eq(3*n+1).css("animation-delay","0.2s"),i.eq(3*n+2).css("animation-delay","0.4s");$(".container-wrapper#product").parents('[ID*="Dyn_"]').siblings().remove()}if(is(".container-wrapper#product-2")){$(".module-sublist .d-item").length>0?$(".module-sublist .d-item").each(function(){var e=$(this).find(".d-txt h5 a").attr("href"),a=$(this).find(".d-txt h5 a").text();$(".container-wrapper#product-2 .list ul").append('\n        <li><a href="'+e+'">'+a+"</a></li>\n        ")}):$("#product-2 .list").remove(),$(".module-ptlist .d-item").each(function(){var e=$(this).find(".d-img img").attr("src"),a=$(this).find(".d-img a").attr("href"),t=$(this).find(".d-txt h5 a").text();if(is($(this).find(".tag")))var i=$(this).find(".tag").parent().html();else i='<div class="hide"></div>';$(".container-wrapper#product-2 .flex-row").append('\n        <div class="item">\n          <div class="pic"><a href="'+a+'"><img src="'+e+'"></a>'+i+'</div>\n          <div class="title"><a href="'+a+'"><span>'+t+"</span></a></div>\n        </div>\n      ")}),$(".container-wrapper#product-2 .flex-row").after($(".mpgbar"));t=$(".container-wrapper#product-2 .flex-row .item").length,i=$(".container-wrapper#product-2 .flex-row .item");if($(window).width()>768)for(n=0;n<t;n++)i.eq(3*n).css("animation-delay","0s"),i.eq(3*n+1).css("animation-delay","0.2s"),i.eq(3*n+2).css("animation-delay","0.4s");$(".container-wrapper#product-2").parents('[ID*="Dyn_"]').siblings().remove(),$(".container-wrapper#product-2 .toggle").click(function(){$(window).width()<768&&($(".container-wrapper#product-2 .list").toggleClass("active"),$("#overlay").toggleClass("active"))}),$("#overlay").click(function(){$(".container-wrapper#product-2 .list").toggleClass("active"),$("#overlay").toggleClass("active")})}if(is(".container-wrapper#product-3")){$(".module-ecptdetail").before($(".banner")),$(".module-ecptdetail").before($(".container-wrapper#product-3")),$(".container-wrapper#product-3 #detail-row").append($(".mpro-wrap>div"));var r=$(".mpro-name h3").text().split("  ");$(".mpro-name h3").text(r[0]),$(".module-ecptdetail").remove(),$(".ad-pro-btns").before($(".mpro-price")),$(".mname").each(function(){$(this).text($(this).text().replace(/:/g,""))})}if(is(".container-wrapper#video")){$("#pageptlist .d-item").each(function(){var e=$(this).find(".d-txt h5 a").text().split("-"),a=$(this).find(".d-txt h5 a").attr("href"),t='\n            <div class="item"> \n              <div class="pic"><a data-fancybox href="'+a+'"><img src="'+$(this).find(".d-img img").attr("src")+'" alt=""/></a></div>\n              <div class="txt">\n                <h5><span class="date">'+$(this).find(".d-txt h5 .mdate").text().replace(/-/g,".")+'</span><span class="tag">'+e[0]+'</span></h5>\n                <h3><a data-fancybox href="'+a+'">'+e[1]+"</a></h3>\n              </div>\n            </div>\n          ";$(".container-wrapper#video .flex-row").append(t)});var o=$(".container-wrapper#video .flex-row .item").length,s=$(".container-wrapper#video .flex-row .item");if($(window).width()>768)for(n=0;n<o;n++)s.eq(4*n+1).css("animation-delay","0s"),s.eq(4*n+2).css("animation-delay","0.2s"),s.eq(4*n+3).css("animation-delay","0.4s"),s.eq(4*n+4).css("animation-delay","0.6s");$(".container-wrapper#video .flex-row").after($(".mpgbar")),$(".container-wrapper#video").parents('[ID*="Dyn_"]').siblings().remove()}if(is(".container-wrapper#news")){$("#pageptlist .d-item").each(function(){var e=$(this).find(".d-txt h5 a").text().split("/-/"),a=$(this).find(".d-txt h5 a").attr("href"),t='\n            <div class="item"> \n              <div class="pic"><a href="'+a+'"><img src="'+$(this).find(".d-img img").attr("src")+'" alt=""/></a></div>\n              <div class="txt">\n                <h5><span class="date">'+$(this).find(".d-txt h5 .mdate").text().replace(/-/g,".")+'</span><span class="tag">'+e[0]+'</span></h5>\n                <h3><a href="'+a+'">'+e[1]+"</a></h3>\n              </div>\n            </div>\n          ";$(".container-wrapper#news .flex-row").append(t)});o=$(".container-wrapper#news .flex-row .item").length,s=$(".container-wrapper#news .flex-row .item");if($(window).width()>768)for(n=0;n<o;n++)s.eq(3*n).css("animation-delay","0s"),s.eq(3*n+1).css("animation-delay","0.2s"),s.eq(3*n+2).css("animation-delay","0.4s");$(".container-wrapper#news .flex-row").after($(".mpgbar")),$(".container-wrapper#news").parents('[ID*="Dyn_"]').siblings().remove()}if(is(".container-wrapper#news-detail")){var c=$(".mpgtitle h3").text().split("/-/")[1];$(".module-detail").before($(".banner")),$(".module-detail").before($(".container-wrapper#news-detail")),$(".container-wrapper#news-detail").next().remove(),$(".container-wrapper#news-detail .content").prepend("<h1>"+c+"</h1>")}if(is(".container-wrapper#location")){var l=function(e){$(".location-foot .select select.page").html("");for(var a=$(".area.active .item.selected").length,t=Math.ceil(a/e),i=$(".location-foot .select select.page").attr("html").split("x"),n=1;n<=t;n++)$(".location-foot .select select.page").append('\n          <option value="'+n+'">'+(i[0]+n+i[1])+"</option>\n        ")},d=function(e,a){$(".container-wrapper#location .location-body .item").removeClass("active");for(var t=e*a;t<e*a+e;t++)$(".container-wrapper#location .location-body .area.active .item.selected").eq(t).addClass("active")};$(".container-wrapper#location").find(".item").each(function(){var e=$(this).attr("name"),a=$(this).attr("addr"),t=$(this).attr("phone"),i=$(this).attr("map");$(this).append('\n        <div class="name">'+e+'</div>\n        <div class="addr"><a href="'+i+'" target="_blank">'+a+'<img src="/ezfiles/768/1768/img/249/ic-btn-map.svg" alt=""/></a></div>\n        <div class="phone"><a href="tel:'+t+'" target="_blank">'+t+"</a></div>\n      ")}),$(".area.active .item").addClass("selected");l(15),$(".container-wrapper#location .location-body .item").removeClass("active"),d(15,0),$(".container-wrapper#location .location-foot .select select").change(function(){var e=$(this).val();d(15,e-1)}),$(".container-wrapper#location .location-head .select select").change(function(){var e=$(this).val();$(".container-wrapper#location .location-body .item").each(function(){var a=$(this).attr("country");e==a?$(this).addClass("active selected"):$(this).removeClass("active selected")}),l(15),d(15,0)}),$("a[area]").click(function(e){e.preventDefault(),$(this).addClass("active"),$(this).parent("li").siblings().children("a").removeClass("active");var a=$(this).attr("area");$(".select[area],.area[area]").each(function(){$(this).attr("area")==a?$(this).addClass("active"):$(this).removeClass("active")}),$(".area.active .item").addClass("selected"),d(15,0),l(15)})}if(is(".container-wrapper#ebook")){$(".d-item").each(function(){var e=$(this).find(".d-img a").attr("href"),a=$(this).find(".d-img a img").attr("src"),t=$(this).find(".d-txt h5 a").text();$(".container-wrapper#ebook .flex-row").append('\n        <div class="item">   \n          <div class="pic"><a href="'+e+'" target="_blank"><img src="'+a+'" alt=""/></a></div>\n          <div class="name"><a href="'+e+'" target="_blank">'+t+"</a></div>\n        </div>\n      ")});var p=$(".container-wrapper#ebook .flex-row .item").length,f=$(".container-wrapper#ebook .flex-row .item");if($(window).width()>768)for(n=0;n<p;n++)f.eq(3*n).css("animation-delay","0s"),f.eq(3*n+1).css("animation-delay","0.2s"),f.eq(3*n+2).css("animation-delay","0.4s");$(".container-wrapper#ebook .flex-row").before($(".mpgbar")),$(".container-wrapper#ebook").parents('[ID*="Dyn_"]').siblings().remove()}if(is(".container-wrapper#contact")&&($(".container-wrapper#contact .row").append($(".form-section")),MP_REMOVE(".container-wrapper#contact")),$(".lang-switch a:not(.active)").click(function(e){e.preventDefault();var a=window.location.href.split("?Lang"),t=$(this).attr("href");window.location.href=a[0]+t}),is(".video.banner")){var h=document.createElement("script");h.src="https://www.youtube.com/iframe_api";var m=document.getElementsByTagName("script")[0];m.parentNode.insertBefore(h,m),$(".video.banner").each(function(e){var a=$(this).data("video");function t(e){player.playVideo()}$(this).append($('<div id="'+a+'"></div>')),setTimeout(function(){player=new YT.Player(a,{videoId:a,playerVars:{mute:1,autoplay:1,controls:0,autohide:1,wmode:"opaque",showinfo:0,loop:1,rel:0,playlist:a,playsinline:1},events:{onReady:t}})},500)})}var v=150;$(window).width()<812&&(v=50);[{name:"h2.title",active:"fadeDown"},{name:".container-wrapper.information .list li",active:"fadeUp"},{name:".content p",active:"fade"},{name:".content h2",active:"fade"},{name:".content img",active:"fade"},{name:"figure img",active:"fadeUp"},{name:".container-wrapper#product .flex-row .item",active:"fadeUp"},{name:".container-wrapper#product-2 .flex-row .item",active:"fadeUp"},{name:".container-wrapper#news .flex-row .item",active:"fadeUp"},{name:".container-wrapper#video .flex-row .item",active:"fadeUp"},{name:".container-wrapper#ebook .flex-row .item",active:"fadeUp"}].forEach(function(e){scroll_action(e.name,e.active,"no",v,1.5)})}),$(function(){$(".drp .group").prepend($('<button class="back">')),$("#header .container").prepend($("<div class=header-cover>")),$("#menu-container #list li.drp").hover(function(){$(window).width()>1024&&$(this).toggleClass("active")}),$("#menu-container #list li.drp>a").click(function(e){e.preventDefault(),$(window).width()<=1024&&$(this).parent().addClass("active")}),$(".group .back").click(function(e){e.preventDefault(),$(this).parent(".group").parent("li.drp").removeClass("active")}),$("#mobile_menu,.header-cover").click(function(){$(window).width()<=1024&&($("#mobile_menu").toggleClass("active"),$("li.drp").removeClass("active"),$("li.drp .group").animate({scrollTop:0},1e3),$("#header").toggleClass("active"),$("body").toggleClass("menu"),$(".header-cover").fadeToggle())})});